<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Test Combination Tree</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">

    <!-- ── Toolbar ─────────────────────────────────────────────────── -->
    <header class="toolbar">
      <div class="toolbar-left">
        <span class="app-icon">⬡</span>
        <h1 class="app-title">Test Combination Tree</h1>
      </div>

      <div class="toolbar-actions">
        <button id="btn-edit-dims"         class="btn btn-secondary btn-sm">⚙ Dimensions</button>
        <button id="btn-edit-result-dims"  class="btn btn-secondary btn-sm">⚙ Results</button>
        <div class="sep"></div>
        <button id="btn-export"            class="btn btn-ghost btn-sm">⬇ Export</button>
        <div class="sep"></div>
        <button id="btn-expand-all"   class="btn btn-ghost">⊞ Expand</button>
        <button id="btn-collapse-all" class="btn btn-ghost">⊟ Collapse</button>
        <div class="sep"></div>
        <div class="view-toggle">
          <button id="btn-view-list"    class="btn btn-ghost view-btn view-active">☰ List</button>
          <button id="btn-view-diagram" class="btn btn-ghost view-btn">⊛ Diagram</button>
        </div>
      </div>
    </header>

    <!-- ── Filters ───────────────────────────────────────────────────── -->
    <div class="filter-bar" id="filter-bar">
      <!-- injected by JS -->
    </div>

    <!-- ── Main workspace ───────────────────────────────────────────── -->
    <main class="workspace" id="workspace">

      <!-- Tree panel -->
      <aside class="tree-panel" id="tree-panel">
        <div id="tree-root"></div>
        <div id="tree-diagram" class="td-container" hidden></div>
      </aside>

      <!-- Detail panel -->
      <section class="detail-panel" id="detail-panel">
        <div class="detail-empty" id="detail-empty">
          <div class="detail-empty-icon">◎</div>
          <p>Select a leaf node to view details</p>
        </div>
        <div class="detail-content" id="detail-content" hidden>
          <div class="detail-header">
            <div class="detail-breadcrumb" id="detail-breadcrumb"></div>
            <span class="status-badge" id="detail-status-badge"></span>
          </div>
          <div class="detail-meta" id="detail-meta"></div>
          <div class="detail-actions" id="detail-actions">
            <!-- injected dynamically per result dimension -->
          </div>
          <div class="remark-box">
            <label class="remark-label" for="remark-input">Remark</label>
            <textarea id="remark-input" class="remark-textarea" placeholder="Add a note for this test case…" rows="3"></textarea>
          </div>
        </div>
      </section>

    </main>

    <!-- ── Summary bar ──────────────────────────────────────────────── -->
    <footer class="summary-bar" id="summary-bar">
      <div class="summary-counts" id="summary-counts"></div>
      <div class="summary-progress-wrap">
        <div class="summary-progress-bar" id="summary-progress-bar">
          <div class="progress-fill pass"    id="prog-pass"></div>
          <div class="progress-fill fail"    id="prog-fail"></div>
          <div class="progress-fill skipped" id="prog-skipped"></div>
        </div>
        <span class="summary-pct" id="summary-pct">0%</span>
      </div>
    </footer>

  </div>

  <!-- Context menu -->
  <ul class="ctx-menu" id="ctx-menu" hidden>
    <li data-action="pass">✓ Mark Pass</li>
    <li data-action="fail">✗ Mark Fail</li>
    <li data-action="skip">⊘ Skip</li>
    <li data-action="reset">↺ Reset</li>
  </ul>

  <script src="https://cdn.jsdelivr.net/npm/xlsx-js-style@1.2.0/dist/xlsx.bundle.js"></script>
  <script src="app.js"></script>
</body>
</html>
